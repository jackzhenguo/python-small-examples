7 列表快速复制之坑
------------------

在python中\ ``*``\ 与列表操作，实现快速元素复制：

.. code:: python

   a = [1,3,5] * 3 # [1,3,5,1,3,5,1,3,5]
   a[0] = 10 # [10, 2, 3, 1, 2, 3, 1, 2, 3]

如果列表元素为列表或字典等复合类型：

.. code:: python

   a = [[1,3,5],[2,4]] * 3 # [[1, 3, 5], [2, 4], [1, 3, 5], [2, 4], [1, 3, 5], [2, 4]]

   a[0][0] = 10 #  

结果可能出乎你的意料，其他\ ``a[1[0]``\ 等也被修改为10

.. code:: python

   [[10, 3, 5], [2, 4], [10, 3, 5], [2, 4], [10, 3, 5], [2, 4]]

这是因为*复制的复合对象都是浅引用，也就是说id(a[0])与id(a[2])门牌号是相等的。如果想要实现深复制效果，这么做：

.. code:: python

   a = [[] for _ in range(3)]

.. _header-n1795:

